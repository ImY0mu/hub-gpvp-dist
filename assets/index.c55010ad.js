import{o,c as d,a as s,r as p,b as g,w as f,s as S,T as $,d as C,e as v,f as L,t as c,F as h,g as b,h as B,n as q,i as y,v as k,j as M,k as N,l as A,m as I,p as O}from"./vendor.17b24304.js";const K=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))u(n);new MutationObserver(n=>{for(const r of n)if(r.type==="childList")for(const l of r.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&u(l)}).observe(document,{childList:!0,subtree:!0});function i(n){const r={};return n.integrity&&(r.integrity=n.integrity),n.referrerpolicy&&(r.referrerPolicy=n.referrerpolicy),n.crossorigin==="use-credentials"?r.credentials="include":n.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function u(n){if(n.ep)return;n.ep=!0;const r=i(n);fetch(n.href,r)}};K();var m=(e,t)=>{for(const[i,u]of t)e[i]=u;return e};const V={name:"AppBar",components:{},data(){return{isOpen:!1}},methods:{closeWindow(){window.current.close("gpvp-app")},minimizeWindow(){window.current.minimize("gpvp-app")},maximizeWindow(){window.current.maximize("gpvp-app")}}},z={id:"appbar",class:"w-full flex select-none mb-2.5"},T={class:"mb-auto ml-auto flex items-center gap-2"},U=s("svg",{xmlns:"http://www.w3.org/2000/svg",class:"bi bi-dash-lg w-5 h-5 fill-current",viewBox:"0 0 16 16"},[s("path",{"fill-rule":"evenodd",d:"M2 8a.5.5 0 0 1 .5-.5h11a.5.5 0 0 1 0 1h-11A.5.5 0 0 1 2 8Z"})],-1),j=[U],G=s("svg",{xmlns:"http://www.w3.org/2000/svg",class:"bi bi-square w-3 h-3 fill-current",viewBox:"0 0 16 16"},[s("path",{d:"M14 1a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1h12zM2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H2z"})],-1),J=[G],E=s("svg",{xmlns:"http://www.w3.org/2000/svg",class:"bi bi-x w-6 h-6 fill-current",viewBox:"0 0 16 16"},[s("path",{d:"M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z"})],-1),W=[E];function D(e,t,i,u,n,r){return o(),d("div",z,[s("div",T,[s("button",{onClick:t[0]||(t[0]=(...l)=>r.minimizeWindow&&r.minimizeWindow(...l))},j),s("button",{onClick:t[1]||(t[1]=(...l)=>r.maximizeWindow&&r.maximizeWindow(...l))},J),s("button",{id:"closeBtn",onClick:t[2]||(t[2]=(...l)=>r.closeWindow&&r.closeWindow(...l))},W)])])}var H=m(V,[["render",D]]),F="/assets/icon.838fc2a6.png";const P={components:{},props:{}},R={id:"topBar",class:"select-none border-b dark:border-dark-800 h-0"},Z=s("div",{class:"flex items-start text-light-100 px-2 absolute top-2"},[s("div",{class:"flex items-center rounded-br-full"},[s("img",{src:F,class:"w-4 ml-2 relative -top-0.5 mt-0.5",alt:"App Logo"}),s("div",{class:"ml-2 flex bg-gradient-to-r from-orange-700 to-blue-700 gradient-text mt-0.5"},[s("div",{class:"font-medium text-base tracking-wide antialiased"},"Simple"),s("div",{class:"text-base ml-1 font-extrabold tracking-wide antialiased"},"MMO")])])],-1),Y=[Z];function Q(e,t,i,u,n,r){return o(),d("div",R,Y)}var X=m(P,[["render",Q]]);const ee={name:"Sidenav",props:{apps:Array},methods:{},created(){}},te={class:"h-full border-r dark:border-dark-700 p-4 flex flex-col gap-4"},se=s("svg",{viewBox:"0 0 24 24"},[s("path",{fill:"currentColor",d:"M12 1L3 5V11C3 16.5 6.8 21.7 12 23C17.2 21.7 21 16.5 21 11V5L12 1M15 15H13V18H11V15H9V13H11L10 7.1L12 5.5L14 7.1L13 13H15V15Z"})],-1),ie=s("svg",{viewBox:"0 0 24 24"},[s("path",{fill:"currentColor",d:"M12,4A4,4 0 0,1 16,8C16,9.95 14.6,11.58 12.75,11.93L8.07,7.25C8.42,5.4 10.05,4 12,4M12.28,14L18.28,20L20,21.72L18.73,23L15.73,20H4V18C4,16.16 6.5,14.61 9.87,14.14L2.78,7.05L4.05,5.78L12.28,14M20,18V19.18L15.14,14.32C18,14.93 20,16.35 20,18Z"})],-1),le=s("svg",{viewBox:"0 0 24 24"},[s("path",{fill:"currentColor",d:"M10 4A4 4 0 0 0 6 8A4 4 0 0 0 10 12A4 4 0 0 0 14 8A4 4 0 0 0 10 4M17.5 13C15 13 13 15 13 17.5C13 20 15 22 17.5 22C20 22 22 20 22 17.5C22 15 20 13 17.5 13M10 14C5.58 14 2 15.79 2 18V20H11.5A6.5 6.5 0 0 1 11 17.5A6.5 6.5 0 0 1 11.95 14.14C11.32 14.06 10.68 14 10 14M17.5 14.5C19.16 14.5 20.5 15.84 20.5 17.5C20.5 18.06 20.35 18.58 20.08 19L16 14.92C16.42 14.65 16.94 14.5 17.5 14.5M14.92 16L19 20.08C18.58 20.35 18.06 20.5 17.5 20.5C15.84 20.5 14.5 19.16 14.5 17.5C14.5 16.94 14.65 16.42 14.92 16Z"})],-1),re=s("svg",{viewBox:"0 0 24 24"},[s("path",{fill:"currentColor",d:"M1,4.27L2.28,3L20.5,21.22L19.23,22.5L17,20.25C15.57,21.57 13.87,22.54 12,23C6.84,21.74 3,16.55 3,11V6.27L1,4.27M12,1L21,5V11C21,13.28 20.35,15.5 19.23,17.41L5.65,3.82L12,1Z"})],-1),ne=s("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},[s("path",{d:"M495.9 166.6C499.2 175.2 496.4 184.9 489.6 191.2L446.3 230.6C447.4 238.9 448 247.4 448 256C448 264.6 447.4 273.1 446.3 281.4L489.6 320.8C496.4 327.1 499.2 336.8 495.9 345.4C491.5 357.3 486.2 368.8 480.2 379.7L475.5 387.8C468.9 398.8 461.5 409.2 453.4 419.1C447.4 426.2 437.7 428.7 428.9 425.9L373.2 408.1C359.8 418.4 344.1 427 329.2 433.6L316.7 490.7C314.7 499.7 307.7 506.1 298.5 508.5C284.7 510.8 270.5 512 255.1 512C241.5 512 227.3 510.8 213.5 508.5C204.3 506.1 197.3 499.7 195.3 490.7L182.8 433.6C167 427 152.2 418.4 138.8 408.1L83.14 425.9C74.3 428.7 64.55 426.2 58.63 419.1C50.52 409.2 43.12 398.8 36.52 387.8L31.84 379.7C25.77 368.8 20.49 357.3 16.06 345.4C12.82 336.8 15.55 327.1 22.41 320.8L65.67 281.4C64.57 273.1 64 264.6 64 256C64 247.4 64.57 238.9 65.67 230.6L22.41 191.2C15.55 184.9 12.82 175.3 16.06 166.6C20.49 154.7 25.78 143.2 31.84 132.3L36.51 124.2C43.12 113.2 50.52 102.8 58.63 92.95C64.55 85.8 74.3 83.32 83.14 86.14L138.8 103.9C152.2 93.56 167 84.96 182.8 78.43L195.3 21.33C197.3 12.25 204.3 5.04 213.5 3.51C227.3 1.201 241.5 0 256 0C270.5 0 284.7 1.201 298.5 3.51C307.7 5.04 314.7 12.25 316.7 21.33L329.2 78.43C344.1 84.96 359.8 93.56 373.2 103.9L428.9 86.14C437.7 83.32 447.4 85.8 453.4 92.95C461.5 102.8 468.9 113.2 475.5 124.2L480.2 132.3C486.2 143.2 491.5 154.7 495.9 166.6V166.6zM256 336C300.2 336 336 300.2 336 255.1C336 211.8 300.2 175.1 256 175.1C211.8 175.1 176 211.8 176 255.1C176 300.2 211.8 336 256 336z"})],-1);function oe(e,t,i,u,n,r){const l=p("router-link");return o(),d("nav",te,[g(l,{to:{name:"home"}},{default:f(()=>[se]),_:1}),g(l,{to:{name:"blocked"}},{default:f(()=>[ie]),_:1}),g(l,{to:{name:"banned"}},{default:f(()=>[le]),_:1}),g(l,{to:{name:"blocked_guilds"}},{default:f(()=>[re]),_:1}),g(l,{class:"mt-auto",to:{name:"settings"}},{default:f(()=>[ne]),_:1})])}var de=m(ee,[["render",oe]]);const ue={components:{AppBar:H,TopBar:X,Navigation:de},data(){return{player:JSON.parse(window.background.getPlayer()),tokens:[{priority:1,key:"",rate_limited:!1,is_working:!0},{priority:2,key:"",rate_limited:!1,is_working:!0},{priority:3,key:"",rate_limited:!1,is_working:!0}],is_keybind_on_cooldown:!1,keybinds:[],settings:{level:{min:1,max:1e4},health:{min:50,max:100}},guilds:{guild_wars:[],custom_list:[],sort_by:{type:"id",reverse:!1}},block_list:{guilds:[],players:[]},queue:{is_finished:!1,current_target:0,current_guild_target:0,current_token:2,targets:[],is_custom_list:!1},is_supporting:!1,updateRequired:!1}},methods:{enter_combat(e){console.log(e),this.queue.is_custom_list=e,this.$router.push({name:"combat"}),this.start_queue()},sort_specific_list(e,t="id",i=!1){switch(e){case"guild_wars":this.guilds.guild_wars=this.sort_guilds_by([...this.guilds.guild_wars],t,i);break;case"custom_list":this.guilds.custom_list=this.sort_guilds_by([...this.guilds.custom_list],t,i);break}this.save_guilds()},shuffle(e){let t=e.length,i;for(;t!=0;)i=Math.floor(Math.random()*t),t--,[e[t],e[i]]=[e[i],e[t]];return e},sort_guilds_by(e,t="id",i=!1){switch(this.guilds.sort_by.type=t,this.guilds.sort_by.reverse=i,t){case"id":return i?e.sort(this.sort_by_id_reverse):e.sort(this.sort_by_id);case"name":return i?e.sort(this.sort_by_name_reverse):e.sort(this.sort_by_name);case"guild_kills":return i?e.sort(this.sort_by_guild_kills_reverse):e.sort(this.sort_by_guild_kills);case"enemy_kills":return i?e.sort(this.sort_by_enemy_kills_reverse):e.sort(this.sort_by_enemy_kills)}},sort_by_id(e,t){return e.id<t.id?-1:e.id>t.id?1:0},sort_by_id_reverse(e,t){return e.id<t.id?1:e.id>t.id?-1:0},sort_by_name(e,t){return e.name<t.name?-1:e.name>t.name?1:0},sort_by_name_reverse(e,t){return e.name<t.name?1:e.name>t.name?-1:0},sort_by_guild_kills(e,t){return e.guild_kills<t.guild_kills?-1:e.guild_kills>t.guild_kills?1:0},sort_by_guild_kills_reverse(e,t){return e.guild_kills<t.guild_kills?1:e.guild_kills>t.guild_kills?-1:0},sort_by_enemy_kills(e,t){return e.enemy_kills<t.enemy_kills?-1:e.enemy_kills>t.enemy_kills?1:0},sort_by_enemy_kills_reverse(e,t){return e.enemy_kills<t.enemy_kills?1:e.enemy_kills>t.enemy_kills?-1:0},is_patreon(){return this.player.patreon==null?!1:(console.log("Supporter"),!0)},import_banned(e){var t=JSON.parse(e);for(let i=0;i<t.length;i++)this.block_player(t[i],!0)},block_player(e,t=!1){if(this.is_player_blocked(e))return console.warn("User is blocked");e.is_banned=t,this.block_list.players.push(e),this.save_settings()},unblock_player(e){if(!this.is_player_blocked(e))return console.warn("User is not blocked");this.block_list.players.splice(this.blocked_player_index(e),1),this.save_settings()},unblock_all_players(e="only_banned"){console.log(this.block_list.player),e=="only_banned"?this.block_list.players=[...this.block_list.players].filter(t=>t.is_banned==!1):e=="not_banned"?this.block_list.players=[...this.block_list.players].filter(t=>t.is_banned==!0):e=="all"&&(this.block_list.players=[]),this.save_settings()},is_player_blocked(e){return this.block_list.players.findIndex(t=>t.user_id==e.user_id)!=-1},blocked_player_index(e){return this.block_list.players.findIndex(t=>t.user_id==e.user_id)},block_guild(e){if(this.is_guild_blocked(e))return console.warn("Guild is blocked");this.block_list.guilds.push(e),this.save_settings()},unblock_all_guilds(){this.block_list.guilds=[],this.save_settings()},unblock_guild(e){if(!this.is_guild_blocked(e))return console.warn("Guild is not blocked");this.block_list.guilds.splice(this.blocked_guild_index(e),1),this.save_settings()},is_guild_blocked(e){return this.block_list.guilds.findIndex(t=>t.id==e.id)!=-1},blocked_guild_index(e){return this.block_list.guilds.findIndex(t=>t.id==e.id)},load_settings(){localStorage.getItem(`blocked_guilds_${this.player.id}`)!=null&&(this.block_list.guilds=JSON.parse(localStorage.getItem(`blocked_guilds_${this.player.id}`))),localStorage.getItem(`blocked_players_${this.player.id}`)!=null&&(this.block_list.players=JSON.parse(localStorage.getItem(`blocked_players_${this.player.id}`))),localStorage.getItem(`settings_level_${this.player.id}`)!=null&&(this.settings.level=JSON.parse(localStorage.getItem(`settings_level_${this.player.id}`))),localStorage.getItem(`settings_health_${this.player.id}`)!=null&&(this.settings.health=JSON.parse(localStorage.getItem(`settings_health_${this.player.id}`))),localStorage.getItem(`guild_wars_${this.player.id}`)!=null&&(this.guilds.guild_wars=JSON.parse(localStorage.getItem(`guild_wars_${this.player.id}`))),localStorage.getItem(`custom_list_${this.player.id}`)!=null&&(this.guilds.custom_list=JSON.parse(localStorage.getItem(`custom_list_${this.player.id}`))),localStorage.getItem(`sort_by_${this.player.id}`)!=null&&(this.guilds.sort_by=JSON.parse(localStorage.getItem(`sort_by_${this.player.id}`)))},load_keys(){localStorage.getItem(`tokens_${this.player.id}`)!=null&&(this.tokens=JSON.parse(localStorage.getItem(`tokens_${this.player.id}`)),this.tokens.forEach(e=>{e.rate_limited=!1})),this.tokens[2].key=window.background.getPublicToken()},save_keys(){localStorage.setItem(`tokens_${this.player.id}`,JSON.stringify(this.tokens))},save_settings(){localStorage.setItem(`blocked_guilds_${this.player.id}`,JSON.stringify(this.block_list.guilds)),localStorage.setItem(`blocked_players_${this.player.id}`,JSON.stringify(this.block_list.players)),localStorage.setItem(`settings_level_${this.player.id}`,JSON.stringify(this.settings.level)),localStorage.setItem(`settings_health_${this.player.id}`,JSON.stringify(this.settings.health)),this.save_keys()},save_guilds(){localStorage.setItem(`guild_wars_${this.player.id}`,JSON.stringify(this.guilds.guild_wars)),localStorage.setItem(`custom_list_${this.player.id}`,JSON.stringify(this.guilds.custom_list)),localStorage.setItem(`sort_by_${this.player.id}`,JSON.stringify(this.guilds.sort_by))},filter_guild_wars(e){var t=this,i=[...e].filter(u=>!t.is_guild_blocked(u));return[...i]},filter_targets(e){var t=this;this.settings.level.max==0&&(this.settings.level.max=parseInt(this.player.level));var i=[...e].filter(u=>t.filter_level(u.level,u.last_activity)&&t.filter_hp(u.current_hp,u.max_hp)&&!t.is_player_blocked(u)&&t.filter_safe_mode(u.safe_mode));return[...i]},filter_date(e){return this.time_difference(e)},filter_level(e,t){var i=this.settings.level.min,u=this.settings.level.max;return this.filter_date(t)?!0:e>=i&&e<=u},filter_hp(e,t){var i=this.settings.health.min,u=this.settings.health.max;return u==100&&(u=200),e/t*100>=i&&e/t*100<=u},filter_safe_mode(e){return e!=1},time_converter(e){var t=new Date(e*1e3),i=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];return t.getFullYear(),i[t.getMonth()],t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t},convert_date_to_UTC(e){return new Date(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds())},time_difference(e){var t=this.convert_date_to_UTC(new Date),i=this.time_converter(e),u=60*60*1e3*24*2,n=t.getTime()-i.getTime();return n>=u},add_guilds(e){if(this.is_guild_in_list(e))return console.warn("Guild is already in list");this.guilds.custom_list.push(e),this.guilds.custom_list=this.sort_guilds_by(this.guilds.custom_list,this.guilds.sort_by.type,this.guilds.sort_by.reverse),this.save_guilds()},remove_guild(e){if(!this.is_guild_in_list(e))return console.warn("Guild is not in list");this.guilds.custom_list.splice(this.custom_guild_index(e),1),this.guilds.custom_list=this.sort_guilds_by(this.guilds.custom_list,this.guilds.sort_by.type,this.guilds.sort_by.reverse),this.save_guilds()},custom_guild_index(e){return this.guilds.custom_list.findIndex(t=>t.id==e.id)},is_guild_in_list(e){return this.guilds.custom_list.findIndex(t=>t.id==e.id)!=-1},async fetch_guild_wars(){var e=[];await fetch(`https://api.simple-mmo.com/v1/guilds/wars/${this.player.guild.id}/1?api_key=${this.tokens[this.queue.current_token].key}`,{method:"POST"}).then(t=>t.json()).then(t=>{t.forEach(i=>{e.push({id:i.guild_2.id,name:i.guild_2.name,enemy_kills:i.guild_2.kills,guild_kills:i.guild_1.kills})}),e=this.filter_guild_wars([...e]),this.guilds.guild_wars=this.sort_guilds_by(e,this.guilds.sort_by.type,this.guilds.sort_by.reverse),console.log(this.guilds.guild_wars),this.save_guilds()}).catch(t=>console.log(t))},reset_queue_settings(){this.queue={is_finished:!1,current_target:0,current_guild_target:0,current_token:2,targets:[],is_custom_list:this.queue.is_custom_list}},reset_current_key(){this.tokens[0].rate_limited=!1,this.tokens[1].rate_limited=!1,this.tokens[2].rate_limited=!1,this.tokens[0].key!=""&&!this.tokens[0].is_working?this.queue.current_token=0:this.tokens[1].key!=""&&!this.tokens[0].is_working?this.queue.current_token=1:this.queue.current_token=2},shuffle_guilds(){this.queue.is_custom_list?this.guilds.custom_list=this.shuffle([...this.guilds.custom_list]):this.guilds.guild_wars=this.shuffle([...this.guilds.guild_wars])},start_queue(){this.reset_queue_settings(),this.reset_current_key(),this.shuffle_guilds(),this.guilds.sort_by={},this.get_next_guild()},get_next_guild(){if(this.queue.is_finished)return console.warn("Finished the list");var e=0;this.queue.is_custom_list?e=this.guilds.custom_list[this.queue.current_guild_target].id:e=this.guilds.guild_wars[this.queue.current_guild_target].id,this.queue.current_guild_target++,this.fetch_guild_targets(e)},get_next_target(){this.queue.targets.length!=0&&(this.attack_target(this.queue.targets[this.queue.current_target].user_id,this.queue.targets[this.queue.current_target].name),this.queue.current_target++,this.queue.targets.length-this.queue.current_target<=10&&this.get_next_guild())},attack_target(e,t){var i=`https://web.simple-mmo.com/user/attack/${e}`;window.background.openBattleLink({url:i,name:t})},async fetch_guild_targets(e){var t=this,i=[];await fetch(`https://api.simple-mmo.com/v1/guilds/members/${e}?api_key=${this.tokens[this.queue.current_token].key}`,{method:"POST"}).then(u=>u.json()).then(u=>{if(u.error=="unauthenticated"){if(t.tokens[t.queue.current_token].is_working=!1,t.queue.current_token==0)return t.queue.current_token=1;if(t.queue.current_token==1)return t.queue.current_token=2;throw Error(t.queue.current_token+" key is not valid")}console.log(u),i=t.filter_targets(u),i.length==0&&t.get_next_guild()}).catch(u=>{if(console.log("625: "+u),t.tokens[t.queue.current_token].rate_limited=!0,t.queue.current_token==0)return t.queue.current_token=1;if(t.queue.current_token==1)return t.queue.current_token=2}),this.queue.targets=[...this.queue.targets].concat([...i]),console.log(this.queue.targets)},import_file(e){},is_update_required(){S.exports.compare(window.background.version(),"0.0.48-22.5.17")==-1&&(this.updateRequired=!0,this.$router.push({name:"update"}))}},beforeMount(){this.is_update_required(),this.load_settings(),this.load_keys(),this.is_supporting=this.is_patreon()},mounted(){window.fetch_guild_wars=this.fetch_guild_wars;var e=this;window.ipcRenderer.receive("get_next_target",function(t){e.get_next_target()})}},ae={class:"flex flex-col h-screen overflow-hidden w-sreen"},_e={key:0,class:"h-[calc(100vh-2.5rem)] flex flex-shrink-0"},ce={class:"w-full"},ge={key:1,class:"h-[calc(100vh-2.5rem)] flex flex-shrink-0"},he={class:"w-full"};function me(e,t,i,u,n,r){const l=p("AppBar"),_=p("TopBar"),w=p("Navigation"),x=p("router-view");return o(),d("div",ae,[g(l),g(_),g($,{name:"fade",mode:"out-in"},{default:f(()=>[e.$route.name!="combat"?(o(),d("div",_e,[n.updateRequired?v("",!0):(o(),C(w,{key:0})),s("div",ce,[g(x,{queue:n.queue,keybinds:n.keybinds,player:n.player,settings:n.settings,tokens:n.tokens,guilds:n.guilds,is_supporting:n.is_supporting,block_list:n.block_list,onUnblock_all_guilds:r.unblock_all_guilds,onUnblock_all_players:t[0]||(t[0]=a=>r.unblock_all_players(a)),onFetch_guild_wars:r.fetch_guild_wars,onBlock_guild:t[1]||(t[1]=a=>r.block_guild(a)),onUnblock_player:t[2]||(t[2]=a=>r.unblock_player(a)),onUnblock_guild:t[3]||(t[3]=a=>r.unblock_guild(a)),onEnter_combat:t[4]||(t[4]=a=>r.enter_combat(a)),onRemove_guild:t[5]||(t[5]=a=>r.remove_guild(a)),onAdd_guilds:t[6]||(t[6]=a=>r.add_guilds(a)),onSort_specific_list:t[7]||(t[7]=a=>r.sort_specific_list(a[0],a[1],a[2])),onSaveSettings:r.save_settings,onSaveKeybind:t[8]||(t[8]=a=>e.save_keybind(a[0],a[1],a[2])),class:"w-full h-full"},{default:f(({Component:a})=>[g($,{name:"fade",mode:"out-in"},{default:f(()=>[(o(),C(L(a),{key:"a"+e.$route.params.id}))]),_:2},1024)]),_:1},8,["queue","keybinds","player","settings","tokens","guilds","is_supporting","block_list","onUnblock_all_guilds","onFetch_guild_wars","onSaveSettings"])])])):(o(),d("div",ge,[s("div",he,[g(x,{queue:n.queue,onGet_next_target:r.get_next_target,onBlock_player:t[9]||(t[9]=a=>r.block_player(a.player,a.is_banned)),class:"w-full h-full"},{default:f(({Component:a})=>[g($,{name:"fade",mode:"out-in"},{default:f(()=>[(o(),C(L(a),{key:"a"+e.$route.params.id}))]),_:2},1024)]),_:1},8,["queue","onGet_next_target"])])]))]),_:1})])}var fe=m(ue,[["render",me]]);const ve={emits:["get_next_target","block_player"],data(){return{disabled:!1}},props:{queue:Object},methods:{get_next_target(){var e;if(this.queue.targets.length!=0&&!this.disabled){if(this.disabled=!0,this.$emit("get_next_target"),this.queue.current_target>=this.queue.targets.length)return this.disabled=!0;document.getElementById((e=this.queue.targets[this.queue.current_target])==null?void 0:e.user_id).scrollIntoView(),setTimeout(()=>{this.disabled=!1},500)}},block_player(e,t=!1){this.$emit("block_player",{player:this.queue.targets[e],is_banned:t}),e<this.queue.current_target&&this.queue.current_target--,this.queue.targets.splice(e,1)},get_health_percentage(e,t){var i=Math.round(e/t*100);return i>100&&(i=100),i},numberWithCommas(e){return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}},mounted(){this.queue.targets.length==0&&this.$router.push({name:"home"})}},ye={class:"w-full relative h-full py-4 pl-4 pr-2 text-true-gray-300"},ke={class:"flex items-center"},pe={class:"text-true-gray-200 text-sm font-medium"},be=["disabled"],we={class:"grid grid-cols-6 w-full text-sm mt-3"},xe=B('<div class="flex-shrink-0">ID</div><div class="flex-shrink-0 col-span-2">Name</div><div class="flex-shrink-0">HP</div><div class="flex-shrink-0">Level</div><div class="justify-self-end pr-2">Action</div>',5),$e={class:"overflow-auto h-[calc(100vh-8.5rem)] mt-2 col-span-6"},Ce=["id"],Le={class:"col-span-2"},Se={class:"justify-self-end"},Be=["onClick"],qe=s("svg",{class:"w-4 h-4 fill-current",viewBox:"0 0 24 24"},[s("path",{fill:"currentColor",d:"M12,4A4,4 0 0,1 16,8C16,9.95 14.6,11.58 12.75,11.93L8.07,7.25C8.42,5.4 10.05,4 12,4M12.28,14L18.28,20L20,21.72L18.73,23L15.73,20H4V18C4,16.16 6.5,14.61 9.87,14.14L2.78,7.05L4.05,5.78L12.28,14M20,18V19.18L15.14,14.32C18,14.93 20,16.35 20,18Z"})],-1),Me=[qe],Ne=["onClick"],Ae=s("svg",{class:"w-4 h-4 fill-current",viewBox:"0 0 24 24"},[s("path",{fill:"currentColor",d:"M10 4A4 4 0 0 0 6 8A4 4 0 0 0 10 12A4 4 0 0 0 14 8A4 4 0 0 0 10 4M17.5 13C15 13 13 15 13 17.5C13 20 15 22 17.5 22C20 22 22 20 22 17.5C22 15 20 13 17.5 13M10 14C5.58 14 2 15.79 2 18V20H11.5A6.5 6.5 0 0 1 11 17.5A6.5 6.5 0 0 1 11.95 14.14C11.32 14.06 10.68 14 10 14M17.5 14.5C19.16 14.5 20.5 15.84 20.5 17.5C20.5 18.06 20.35 18.58 20.08 19L16 14.92C16.42 14.65 16.94 14.5 17.5 14.5M14.92 16L19 20.08C18.58 20.35 18.06 20.5 17.5 20.5C15.84 20.5 14.5 19.16 14.5 17.5C14.5 16.94 14.65 16.42 14.92 16Z"})],-1),Ie=[Ae];function Oe(e,t,i,u,n,r){return o(),d("div",ye,[s("div",ke,[s("h2",pe,"Combat ["+c(i.queue.current_target)+"/"+c(i.queue.targets.length)+"]",1),s("button",{disabled:n.disabled||i.queue.targets.length==0,onClick:t[0]||(t[0]=(...l)=>r.get_next_target&&r.get_next_target(...l)),class:"ml-auto disabled:pointer-events-none disabled:bg-true-gray-600 px-2 py-1 text-xs max-w-max tracking-wide font-medium border rounded border-true-gray-800 hover:bg-true-gray-800"},"Next",8,be),s("button",{onClick:t[1]||(t[1]=l=>{e.$router.push({name:"home"}),i.queue.targets=[]}),class:"ml-2 px-2 py-1 text-xs max-w-max tracking-wide font-medium border rounded border-true-gray-800 hover:bg-true-gray-800"},"Leave")]),s("div",we,[xe,s("div",$e,[(o(!0),d(h,null,b(i.queue.targets,(l,_)=>{var w,x;return o(),d(h,{key:l.id},[(l==null?void 0:l.is_banned)==null?(o(),d("div",{key:0,id:l==null?void 0:l.user_id,class:q(["grid grid-cols-6 items-start text-true-gray-500 gap-2 relative p-0.5 border-b",{"border-red-200":(l==null?void 0:l.user_id)==((w=i.queue.targets[i.queue.current_target])==null?void 0:w.user_id),"border-transparent":(l==null?void 0:l.user_id)!=((x=i.queue.targets[i.queue.current_target])==null?void 0:x.user_id)}])},[s("div",null,c(l==null?void 0:l.user_id),1),s("div",Le,c(l.name),1),s("div",null,c(r.get_health_percentage(l.current_hp,l.max_hp))+"%",1),s("div",null,c(r.numberWithCommas(l.level)),1),s("div",Se,[s("button",{onClick:a=>r.block_player(_,!1),class:"ml-auto hover:text-red-400"},Me,8,Be),s("button",{onClick:a=>r.block_player(_,!0),class:"ml-2 hover:text-red-400"},Ie,8,Ne)])],10,Ce)):v("",!0)],64)}),128))])])])}var Ke=m(ve,[["render",Oe]]);const Ve={props:{guilds:Object,tokens:Array},emits:["sort_specific_list","add_guilds","enter_combat","block_guild","fetch_guild_wars"],methods:{enter_combat(e){this.$emit("enter_combat",e)},fetch_guild_wars(){this.$emit("fetch_guild_wars")},block_guild(e){this.$emit("block_guild",e)},sort_specific_list(e,t="id",i=!1){this.$emit("sort_specific_list",[e,t,i])},add_guilds(e){this.$emit("add_guilds",e)},remove_guild(e){this.$emit("remove_guild",e)}}},ze={class:"text-true-gray-300"};function Te(e,t,i,u,n,r){const l=p("router-view");return o(),d("div",ze,[g(l,{onFetch_guild_wars:r.fetch_guild_wars,onEnter_combat:t[0]||(t[0]=_=>r.enter_combat(_)),onBlock_guild:t[1]||(t[1]=_=>r.block_guild(_)),tokens:i.tokens,onRemove_guild:t[2]||(t[2]=_=>r.remove_guild(_)),onAdd_guilds:t[3]||(t[3]=_=>r.add_guilds(_)),onSort_specific_list:t[4]||(t[4]=_=>r.sort_specific_list(_[0],_[1],_[2])),guilds:i.guilds},null,8,["onFetch_guild_wars","tokens","guilds"])])}var Ue=m(Ve,[["render",Te]]);const je={emits:["unblock_player"],data(){return{disabled:!1}},props:{block_list:Object},methods:{unblock_all_players(e){this.$emit("unblock_all_players",e)},unblock_player(e){this.$emit("unblock_player",e)},numberWithCommas(e){return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}},mounted(){console.log(this.block_list)}},Ge={class:"w-full relative h-full py-4 pl-4 pr-2 text-true-gray-300"},Je={class:"flex items-center"},Ee=s("h2",{class:"text-true-gray-200 text-sm font-medium"},"Blocked players",-1),We={class:"grid grid-cols-6 w-full text-sm mt-3"},De=s("div",{class:"flex-shrink-0"},"ID",-1),He=s("div",{class:"flex-shrink-0 col-span-4"},"Name",-1),Fe=s("div",{class:"justify-self-end pr-2"},"Action",-1),Pe={class:"overflow-auto h-[calc(100vh-8.5rem)] mt-2 col-span-6"},Re=["id"],Ze={class:"col-span-4"},Ye={class:"justify-self-end"},Qe=["onClick"],Xe=s("svg",{class:"w-4 h-4 fill-current",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 320 512"},[s("path",{d:"M310.6 361.4c12.5 12.5 12.5 32.75 0 45.25C304.4 412.9 296.2 416 288 416s-16.38-3.125-22.62-9.375L160 301.3L54.63 406.6C48.38 412.9 40.19 416 32 416S15.63 412.9 9.375 406.6c-12.5-12.5-12.5-32.75 0-45.25l105.4-105.4L9.375 150.6c-12.5-12.5-12.5-32.75 0-45.25s32.75-12.5 45.25 0L160 210.8l105.4-105.4c12.5-12.5 32.75-12.5 45.25 0s12.5 32.75 0 45.25l-105.4 105.4L310.6 361.4z"})],-1),et=[Xe];function tt(e,t,i,u,n,r){return o(),d("div",Ge,[s("div",Je,[Ee,s("button",{onClick:t[0]||(t[0]=l=>r.unblock_all_players("not_banned")),class:"ml-auto disabled:pointer-events-none disabled:bg-true-gray-600 px-2 py-1 text-xs max-w-max tracking-wide font-medium border rounded border-true-gray-800 hover:bg-true-gray-800"},"Clear All")]),s("div",We,[De,He,Fe,s("div",Pe,[(o(!0),d(h,null,b(i.block_list.players,l=>(o(),d(h,{key:l.id},[(l==null?void 0:l.is_banned)?v("",!0):(o(),d("div",{key:0,id:l.user_id,class:"grid grid-cols-6 items-start text-true-gray-500 gap-2 relative p-0.5"},[s("div",null,c(l.user_id),1),s("div",Ze,c(l.name),1),s("div",Ye,[s("button",{onClick:_=>r.unblock_player(l),class:"ml-auto hover:text-red-400"},et,8,Qe)])],8,Re))],64))),128))])])])}var st=m(je,[["render",tt]]);const it={emits:["unblock_guild","unblock_all_guilds"],data(){return{disabled:!1}},props:{block_list:Object},methods:{unblock_guild(e){this.$emit("unblock_guild",e)},unblock_all_guilds(){this.$emit("unblock_all_guilds")},numberWithCommas(e){return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}},mounted(){console.log(this.block_list)}},lt={class:"w-full relative h-full py-4 pl-4 pr-2 text-true-gray-300"},rt={class:"flex items-center"},nt=s("h2",{class:"text-true-gray-200 text-sm font-medium"},"Blocked guilds",-1),ot={class:"grid grid-cols-6 w-full text-sm mt-3"},dt=s("div",{class:"flex-shrink-0"},"ID",-1),ut=s("div",{class:"flex-shrink-0 col-span-4"},"Name",-1),at=s("div",{class:"justify-self-end pr-2"},"Action",-1),_t={class:"overflow-auto h-[calc(100vh-8.5rem)] mt-2 col-span-6"},ct=["id"],gt={class:"col-span-4"},ht={class:"justify-self-end"},mt=["onClick"],ft=s("svg",{class:"w-4 h-4 fill-current",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 320 512"},[s("path",{d:"M310.6 361.4c12.5 12.5 12.5 32.75 0 45.25C304.4 412.9 296.2 416 288 416s-16.38-3.125-22.62-9.375L160 301.3L54.63 406.6C48.38 412.9 40.19 416 32 416S15.63 412.9 9.375 406.6c-12.5-12.5-12.5-32.75 0-45.25l105.4-105.4L9.375 150.6c-12.5-12.5-12.5-32.75 0-45.25s32.75-12.5 45.25 0L160 210.8l105.4-105.4c12.5-12.5 32.75-12.5 45.25 0s12.5 32.75 0 45.25l-105.4 105.4L310.6 361.4z"})],-1),vt=[ft];function yt(e,t,i,u,n,r){return o(),d("div",lt,[s("div",rt,[nt,s("button",{onClick:t[0]||(t[0]=(...l)=>r.unblock_all_guilds&&r.unblock_all_guilds(...l)),class:"ml-auto disabled:pointer-events-none disabled:bg-true-gray-600 px-2 py-1 text-xs max-w-max tracking-wide font-medium border rounded border-true-gray-800 hover:bg-true-gray-800"},"Clear All")]),s("div",ot,[dt,ut,at,s("div",_t,[(o(!0),d(h,null,b(i.block_list.guilds,l=>(o(),d("div",{key:l.id,id:l.user_id,class:"grid grid-cols-6 items-start text-true-gray-500 gap-2 relative p-0.5"},[s("div",null,c(l.id),1),s("div",gt,c(l.name),1),s("div",ht,[s("button",{onClick:_=>r.unblock_guild(l),class:"ml-auto hover:text-red-400"},vt,8,mt)])],8,ct))),128))])])])}var kt=m(it,[["render",yt]]);const pt={emits:["unblock_player","unblock_all_players"],data(){return{disabled:!1}},props:{block_list:Object},methods:{unblock_all_players(e){this.$emit("unblock_all_players",e)},unblock_player(e){this.$emit("unblock_player",e)},numberWithCommas(e){return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}},mounted(){console.log(this.block_list)}},bt={class:"w-full relative h-full py-4 pl-4 pr-2 text-true-gray-300"},wt={class:"flex items-center"},xt=s("h2",{class:"text-true-gray-200 text-sm font-medium"},"Banned players",-1),$t={class:"grid grid-cols-6 w-full text-sm mt-3"},Ct=s("div",{class:"flex-shrink-0"},"ID",-1),Lt=s("div",{class:"flex-shrink-0 col-span-4"},"Name",-1),St=s("div",{class:"justify-self-end pr-2"},"Action",-1),Bt={class:"overflow-auto h-[calc(100vh-8.5rem)] mt-2 col-span-6"},qt=["id"],Mt={class:"col-span-4"},Nt={class:"justify-self-end"},At=["onClick"],It=s("svg",{class:"w-4 h-4 fill-current",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 320 512"},[s("path",{d:"M310.6 361.4c12.5 12.5 12.5 32.75 0 45.25C304.4 412.9 296.2 416 288 416s-16.38-3.125-22.62-9.375L160 301.3L54.63 406.6C48.38 412.9 40.19 416 32 416S15.63 412.9 9.375 406.6c-12.5-12.5-12.5-32.75 0-45.25l105.4-105.4L9.375 150.6c-12.5-12.5-12.5-32.75 0-45.25s32.75-12.5 45.25 0L160 210.8l105.4-105.4c12.5-12.5 32.75-12.5 45.25 0s12.5 32.75 0 45.25l-105.4 105.4L310.6 361.4z"})],-1),Ot=[It];function Kt(e,t,i,u,n,r){return o(),d("div",bt,[s("div",wt,[xt,s("button",{onClick:t[0]||(t[0]=l=>r.unblock_all_players("only_banned")),class:"ml-auto disabled:pointer-events-none disabled:bg-true-gray-600 px-2 py-1 text-xs max-w-max tracking-wide font-medium border rounded border-true-gray-800 hover:bg-true-gray-800"},"Clear All")]),s("div",$t,[Ct,Lt,St,s("div",Bt,[(o(!0),d(h,null,b(i.block_list.players,l=>(o(),d(h,{key:l.id},[(l==null?void 0:l.is_banned)?(o(),d("div",{key:0,id:l.user_id,class:"grid grid-cols-6 items-start text-true-gray-500 gap-2 relative p-0.5"},[s("div",null,c(l.user_id),1),s("div",Mt,c(l.name),1),s("div",Nt,[s("button",{onClick:_=>r.unblock_player(l),class:"ml-auto hover:text-red-400"},Ot,8,At)])],8,qt)):v("",!0)],64))),128))])])])}var Vt=m(pt,[["render",Kt]]);const zt={props:{settings:Object,tokens:Array,player:Object,keybinds:Array,is_supporting:Boolean},data(){return{enteredKey:{key:"",keyName:"None"},currentKeybind:this.keybinds[0],enabled:!1}},methods:{editController(){this.enabled?this.saveKeybind():this.enteredKey=this.currentKeybind,this.enabled=!this.enabled},saveKeybind(){console.warn(this.enteredKey),this.enteredKey.keyName=="Already in use"?this.$emit("saveKeybind",[this.currentKeybind.id,"",""]):this.$emit("saveKeybind",[this.currentKeybind.id,this.enteredKey.key,this.enteredKey.keyName]),this.enteredKey={key:"",keyName:"None"}},keybindController(e){var t=this;return Object.keys(t.keybinds).forEach(function(i){t.keybinds[i].key==e.key}),e},keyBindListener(e){if(!!this.enabled){if(e.preventDefault(),e.key!=null&&(e.key.startsWith("F")&&e.key!="F"||e.key=="Escape"||e.key=="Backspace")||e.button!=null&&(e.button==0||e.button==1||e.button==2))return console.warn("Blacklisted key");if(this.currentKeybind!=null){var t=this,i={key:"",keyName:""};e.type=="mousedown"?(e.shiftKey&&(i.key="Shift+",i.keyName="Shift+"),e.ctrlKey&&(i.key="Ctrl+",i.keyName="Ctrl+"),e.altKey&&(i.key="Alt+",i.keyName="Alt+"),i.key+=`Mouse${e.button}`,i.keyName+=`Mouse${e.button}`):(e.type=="keypress"||e.type=="keydown")&&(e.shiftKey&&(i.key="Shift+",i.keyName="Shift+"),e.ctrlKey&&(i.key="Ctrl+",i.keyName="Ctrl+"),e.altKey&&(i.key="Alt+",i.keyName="Alt+"),i.key+=e.code,i.keyName+=t.getCorrectKey(e)),console.log(i),i!=""&&(this.enteredKey=this.keybindController(i))}}},getCorrectKey(e){return e.key.startsWith("Key")?e.key.replace("Key",""):e.key=="NumpadAdd"?"Numpad +":e.key=="NumpadSubtract"?"Numpad -":e.key=="NumpadEnter"?"Numpad Enter":e.key}},mounted(){console.log(this.keybinds),window.addEventListener("keydown",this.keyBindListener,!1),window.addEventListener("mousedown",this.keyBindListener,!1)},unmounted(){window.removeEventListener("keydown",this.keyBindListener,!1),window.removeEventListener("mousedown",this.keyBindListener,!1)}},Tt={class:"h-full w-full py-4 pl-4 pr-2"},Ut={class:"max-w-screen-sm mx-auto overflow-y-auto overflow-x-hidden h-full w-full pr-2"},jt={class:"grid grid-cols-2 gap-x-4 gap-y-2 w-full"},Gt=s("div",{class:"text-sm text-true-gray-300 tracking-wide col-span-2"},"Filter",-1),Jt={class:"grid grid-cols-2 items-center"},Et=s("span",{class:"text-xs text-true-gray-400 tracking-wide"},"Minimum level",-1),Wt={class:"grid grid-cols-2 items-center place-content-end"},Dt=s("span",{class:"text-xs text-true-gray-400 tracking-wide"},"Maximum level",-1),Ht=s("div",{class:"text-sm text-true-gray-300 tracking-wide col-span-2"},"API keys",-1),Ft={class:"grid grid-cols-4 items-center place-content-end col-span-2"},Pt=s("span",{class:"text-xs text-true-gray-400 tracking-wide"},"1: Alt Key",-1),Rt={class:"w-full relative col-span-3 right-1"},Zt={class:"grid grid-cols-4 items-center place-content-end col-span-2"},Yt=s("span",{class:"text-xs text-true-gray-400 tracking-wide"},"2: Alt Key",-1),Qt={class:"w-full relative col-span-3 right-1"},Xt={class:"grid grid-cols-4 items-center place-content-end col-span-2"},es=s("span",{class:"text-xs text-true-gray-400 tracking-wide"},"3: Account's Key",-1),ts={class:"w-full relative col-span-3 right-1"},ss=s("div",{class:"text-sm text-true-gray-300 tracking-wide col-span-2"},"Other",-1),is={class:"grid grid-cols-6 items-center gap-4 place-content-end col-span-2"},ls={class:"grid grid-cols-2 col-span-2 items-center"},rs=s("span",{class:"text-xs text-true-gray-400 tracking-wide"},"Guild ID",-1);function ns(e,t,i,u,n,r){return o(),d("div",Tt,[s("div",Ut,[s("div",jt,[Gt,s("div",Jt,[Et,y(s("input",{class:"text-sm px-2 py-1 w-full rounded",onBlur:t[0]||(t[0]=l=>e.$emit("saveSettings")),type:"number",min:"1",name:"",id:"","onUpdate:modelValue":t[1]||(t[1]=l=>i.settings.level.min=l)},null,544),[[k,i.settings.level.min]])]),s("div",Wt,[Dt,y(s("input",{class:"text-sm px-2 py-1 w-full rounded",onBlur:t[2]||(t[2]=l=>e.$emit("saveSettings")),type:"number",placeholder:"0 to your level",min:"0",name:"",id:"","onUpdate:modelValue":t[3]||(t[3]=l=>i.settings.level.max=l)},null,544),[[k,i.settings.level.max]])]),Ht,s("div",Ft,[Pt,s("div",Rt,[y(s("input",{"onUpdate:modelValue":t[4]||(t[4]=l=>i.tokens[0].key=l),class:"text-sm px-2 py-1 w-full rounded mr-2 w-full w-[calc(100%+0.25rem)]",onBlur:t[5]||(t[5]=l=>e.$emit("saveSettings")),type:"text",name:"",id:""},null,544),[[k,i.tokens[0].key]])])]),s("div",Zt,[Yt,s("div",Qt,[y(s("input",{"onUpdate:modelValue":t[6]||(t[6]=l=>i.tokens[1].key=l),class:"text-sm px-2 py-1 w-full rounded mr-2 w-full w-[calc(100%+0.25rem)]",onBlur:t[7]||(t[7]=l=>e.$emit("saveSettings")),type:"text",name:"",id:""},null,544),[[k,i.tokens[1].key]])])]),s("div",Xt,[es,s("div",ts,[y(s("input",{"onUpdate:modelValue":t[8]||(t[8]=l=>i.tokens[2].key=l),class:"text-sm px-2 py-1 w-full rounded mr-2 w-full w-[calc(100%+0.25rem)]",onBlur:t[9]||(t[9]=l=>e.$emit("saveSettings")),type:"text",name:"",id:""},null,544),[[k,i.tokens[2].key]])])]),ss,s("div",is,[s("div",ls,[rs,y(s("input",{readonly:"","onUpdate:modelValue":t[10]||(t[10]=l=>i.player.guild.id=l),class:"text-sm px-2 py-1 w-full rounded",onBlur:t[11]||(t[11]=l=>e.$emit("saveSettings")),type:"number",min:"1",name:"",id:""},null,544),[[k,i.player.guild.id]])])])])])])}var os=m(zt,[["render",ns]]);const ds={emits:["sort_specific_list","add_guilds","remove_guild","enter_combat"],data(){return{show:!1,input:"",guild_list:[],ongoing:!1,message:{text:"",show:!1}}},props:{guilds:Object,tokens:Array},methods:{enter_combat(){this.$emit("enter_combat",!0)},add_guilds(e){this.$emit("add_guilds",e)},async verify_guilds(){var e=this.input.trim(),t=this;if(this.ongoing=!0,!e.includes(","))console.log("single guild"),fetch(`https://api.simple-mmo.com/v1/guilds/info/${e}?api_key=${this.tokens[2].key}`,{method:"POST"}).then(n=>n.json()).then(n=>{n.error=="guild not found"?console.log("Guild does not exist"):n.name!=""&&(console.log("Guild "+n.name+" does exist"),t.$emit("add_guilds",n))}).catch(n=>console.log(n)),this.finished();else{console.log("multiple guilds");var i=e.split(",");for await(const n of i){var u=await this.fetch_guild(n.trim());u!=null&&t.$emit("add_guilds",u)}this.finished()}},finished(){this.message.text="Verification has been finished",this.message.show=!0,this.ongoing=!1,this.input="",setTimeout(()=>{this.message.show=!1},2500)},async fetch_guild(e){var t=null;return await fetch(`https://api.simple-mmo.com/v1/guilds/info/${e}?api_key=${this.tokens[2].key}`,{method:"POST"}).then(i=>i.json()).then(i=>{i.error=="guild not found"?console.log("Guild does not exist"):i.name!=""&&(console.log("Guild "+i.name+" does exist"),t=i)}).catch(i=>console.log(i)),t},sort_specific_list(e){this.guilds.sort_by.type==e?this.$emit("sort_specific_list",["custom_list",e,!this.guilds.sort_by.reverse]):this.$emit("sort_specific_list",["custom_list",e,!1])},onlyNumberKey(e){var t=e.which?e.which:e.keyCode;return t>31&&(t<48||t>57)&&t!=44&&t!=32?e.preventDefault():!0}},mounted(){}},us={class:"w-full relative h-full py-4 pl-4 pr-2"},as={class:"grid grid-cols-5 items-center"},_s=s("h2",{class:"text-true-gray-200 text-sm font-medium"},"Custom List",-1),cs={class:"flex items-center col-span-2"},gs=s("div",{class:""},null,-1),hs={class:"grid grid-cols-6 w-full text-sm mt-3"},ms=s("span",{class:"flex-shrink-0"},"ID",-1),fs={key:0,class:"w-2 h-2 fill-current",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512"},vs=s("path",{d:"M224 416c-8.188 0-16.38-3.125-22.62-9.375l-192-192c-12.5-12.5-12.5-32.75 0-45.25s32.75-12.5 45.25 0L224 338.8l169.4-169.4c12.5-12.5 32.75-12.5 45.25 0s12.5 32.75 0 45.25l-192 192C240.4 412.9 232.2 416 224 416z"},null,-1),ys=[vs],ks={key:1,class:"w-2 h-2 fill-current",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512"},ps=s("path",{d:"M416 352c-8.188 0-16.38-3.125-22.62-9.375L224 173.3l-169.4 169.4c-12.5 12.5-32.75 12.5-45.25 0s-12.5-32.75 0-45.25l192-192c12.5-12.5 32.75-12.5 45.25 0l192 192c12.5 12.5 12.5 32.75 0 45.25C432.4 348.9 424.2 352 416 352z"},null,-1),bs=[ps],ws=s("span",{class:"flex-shrink-0"},"Guild Name",-1),xs={key:0,class:"w-2 h-2 fill-current",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512"},$s=s("path",{d:"M224 416c-8.188 0-16.38-3.125-22.62-9.375l-192-192c-12.5-12.5-12.5-32.75 0-45.25s32.75-12.5 45.25 0L224 338.8l169.4-169.4c12.5-12.5 32.75-12.5 45.25 0s12.5 32.75 0 45.25l-192 192C240.4 412.9 232.2 416 224 416z"},null,-1),Cs=[$s],Ls={key:1,class:"w-2 h-2 fill-current",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512"},Ss=s("path",{d:"M416 352c-8.188 0-16.38-3.125-22.62-9.375L224 173.3l-169.4 169.4c-12.5 12.5-32.75 12.5-45.25 0s-12.5-32.75 0-45.25l192-192c12.5-12.5 32.75-12.5 45.25 0l192 192c12.5 12.5 12.5 32.75 0 45.25C432.4 348.9 424.2 352 416 352z"},null,-1),Bs=[Ss],qs=s("div",{class:"col-span-2 justify-self-end pr-2"},"Action",-1),Ms={class:"grid grid-cols-6 items-start content-start text-true-gray-500 col-span-6 gap-2 overflow-auto h-[calc(100vh-8.5rem)] mt-2"},Ns={class:""},As={class:"col-span-3"},Is={class:"col-span-2 justify-self-end pr-2"},Os=["onClick"],Ks=s("svg",{class:"w-4 h-4 fill-current",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 320 512"},[s("path",{d:"M310.6 361.4c12.5 12.5 12.5 32.75 0 45.25C304.4 412.9 296.2 416 288 416s-16.38-3.125-22.62-9.375L160 301.3L54.63 406.6C48.38 412.9 40.19 416 32 416S15.63 412.9 9.375 406.6c-12.5-12.5-12.5-32.75 0-45.25l105.4-105.4L9.375 150.6c-12.5-12.5-12.5-32.75 0-45.25s32.75-12.5 45.25 0L160 210.8l105.4-105.4c12.5-12.5 32.75-12.5 45.25 0s12.5 32.75 0 45.25l-105.4 105.4L310.6 361.4z"})],-1),Vs=[Ks],zs={class:"flex w-full"},Ts=s("svg",{class:"w-4 h-4 fill-current",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 320 512"},[s("path",{d:"M310.6 361.4c12.5 12.5 12.5 32.75 0 45.25C304.4 412.9 296.2 416 288 416s-16.38-3.125-22.62-9.375L160 301.3L54.63 406.6C48.38 412.9 40.19 416 32 416S15.63 412.9 9.375 406.6c-12.5-12.5-12.5-32.75 0-45.25l105.4-105.4L9.375 150.6c-12.5-12.5-12.5-32.75 0-45.25s32.75-12.5 45.25 0L160 210.8l105.4-105.4c12.5-12.5 32.75-12.5 45.25 0s12.5 32.75 0 45.25l-105.4 105.4L310.6 361.4z"})],-1),Us=[Ts],js={class:"flex items-center gap-4 mt-4"},Gs=s("span",{class:"text-xs text-true-gray-400 tracking-wide min-w-max"},"Enter Guild ID/s",-1),Js={class:"flex flex-col gap-2 relative w-full"},Es={class:"h-5 absolute top-8"},Ws={key:0,class:"py-1 text-xs text-left text-green-200"},Ds=s("div",{class:"h-5"},null,-1),Hs=["disabled"],Fs={key:0},Ps=s("span",null,"Proccessing",-1),Rs=s("svg",{class:"animate-spin h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[s("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),s("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1);function Zs(e,t,i,u,n,r){return o(),d("div",us,[s("div",as,[_s,s("div",cs,[s("button",{onClick:t[0]||(t[0]=(...l)=>r.enter_combat&&r.enter_combat(...l)),class:"px-2 py-1 text-xs max-w-max tracking-wide font-medium border rounded border-true-gray-800 hover:bg-true-gray-800 ml-2"},"Enter Combat"),s("button",{onClick:t[1]||(t[1]=l=>n.show=!0),class:"px-2 py-1 text-xs max-w-max tracking-wide font-medium border rounded border-true-gray-800 hover:bg-true-gray-800 ml-2"},"Add Guild")]),gs,s("button",{onClick:t[2]||(t[2]=l=>e.$router.push("guild_wars")),class:"ml-auto px-2 py-1 text-xs tracking-wide font-medium border rounded border-true-gray-800 hover:bg-true-gray-800"},"Guild Wars")]),s("div",hs,[s("button",{class:"hover:underline text-left flex items-center gap-1",onClick:t[3]||(t[3]=l=>r.sort_specific_list("id"))},[ms,i.guilds.sort_by.type=="id"&&!i.guilds.sort_by.reverse?(o(),d("svg",fs,ys)):i.guilds.sort_by.type=="id"&&i.guilds.sort_by.reverse?(o(),d("svg",ks,bs)):v("",!0)]),s("button",{onClick:t[4]||(t[4]=l=>r.sort_specific_list("name")),class:"col-span-3 hover:underline text-left flex items-center gap-1"},[ws,i.guilds.sort_by.type=="name"&&!i.guilds.sort_by.reverse?(o(),d("svg",xs,Cs)):i.guilds.sort_by.type=="name"&&i.guilds.sort_by.reverse?(o(),d("svg",Ls,Bs)):v("",!0)]),qs,s("div",Ms,[(o(!0),d(h,null,b(i.guilds.custom_list,l=>(o(),d(h,{key:l.id},[s("div",Ns,c(l.id),1),s("div",As,c(l.name),1),s("div",Is,[s("button",{class:"hover:text-red-400",onClick:_=>e.$emit("remove_guild",l)},Vs,8,Os)])],64))),128))])]),g($,{name:"fade",mode:"out-in"},{default:f(()=>[y(s("div",{onClick:t[10]||(t[10]=l=>n.show=!1),class:"absolute flex flex-col items-center justify-center top-0 w-full h-full left-0 bg-black bg-opacity-70"},[s("div",{onClick:t[9]||(t[9]=N(()=>{},["stop"])),class:"p-4 rounded bg-true-gray-900 border border-true-gray-700 w-full max-w-md"},[s("div",zs,[s("button",{class:"ml-auto hover:text-red-400",onClick:t[5]||(t[5]=l=>n.show=!1)},Us)]),s("div",js,[Gs,s("div",Js,[y(s("input",{onKeypress:t[6]||(t[6]=l=>r.onlyNumberKey(l)),"onUpdate:modelValue":t[7]||(t[7]=l=>n.input=l),class:"text-sm px-2 border text-true-gray-700 py-1 w-full rounded",type:"text",id:"",placeholder:"1, 2, 3, 4, 5, ..."},null,544),[[k,n.input]]),s("div",Es,[g($,{name:"fade",mode:"out-in"},{default:f(()=>[n.message.show?(o(),d("div",Ws,c(n.message.text),1)):v("",!0)]),_:1})])])]),Ds,s("button",{disabled:n.input.length==0||n.ongoing,onClick:t[8]||(t[8]=l=>r.verify_guilds()),class:"disabled:pointer-events-none px-2 flex items-center place-content-center gap-2 mt-2 py-1 text-sm border w-full text-true-gray-300 border-true-gray-800 rounded hover:bg-true-gray-800"},[n.ongoing?(o(),d(h,{key:1},[Ps,Rs],64)):(o(),d("span",Fs,"Launch guilds verification"))],8,Hs)])],512),[[M,n.show]])]),_:1})])}var Ys=m(ds,[["render",Zs]]);const Qs={emits:["sort_specific_list","enter_combat","block_guild","fetch_guild_wars"],props:{guilds:Object},methods:{block_guild(e){this.guilds.guild_wars[e].is_blocked=!0,this.$emit("block_guild",this.guilds.guild_wars[e])},fetch_guild_wars(){this.$emit("fetch_guild_wars")},enter_combat(){this.$emit("enter_combat",!1)},sort_specific_list(e){this.guilds.sort_by.type==e?this.$emit("sort_specific_list",["guild_wars",e,!this.guilds.sort_by.reverse]):this.$emit("sort_specific_list",["guild_wars",e,!1])}},mounted(){}},Xs={class:"w-full relative h-full py-4 pl-4 pr-2"},ei={class:"grid grid-cols-5 items-center"},ti=s("h2",{class:"text-true-gray-200 text-sm font-medium"},"Guild Wars",-1),si={class:"col-span-2"},ii=s("div",{class:""},null,-1),li={class:"grid grid-cols-6 w-full text-sm mt-3"},ri=s("span",{class:"flex-shrink-0"},"ID",-1),ni={key:0,class:"w-2 h-2 fill-current",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512"},oi=s("path",{d:"M224 416c-8.188 0-16.38-3.125-22.62-9.375l-192-192c-12.5-12.5-12.5-32.75 0-45.25s32.75-12.5 45.25 0L224 338.8l169.4-169.4c12.5-12.5 32.75-12.5 45.25 0s12.5 32.75 0 45.25l-192 192C240.4 412.9 232.2 416 224 416z"},null,-1),di=[oi],ui={key:1,class:"w-2 h-2 fill-current",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512"},ai=s("path",{d:"M416 352c-8.188 0-16.38-3.125-22.62-9.375L224 173.3l-169.4 169.4c-12.5 12.5-32.75 12.5-45.25 0s-12.5-32.75 0-45.25l192-192c12.5-12.5 32.75-12.5 45.25 0l192 192c12.5 12.5 12.5 32.75 0 45.25C432.4 348.9 424.2 352 416 352z"},null,-1),_i=[ai],ci=s("span",{class:"flex-shrink-0"},"Guild Name",-1),gi={key:0,class:"w-2 h-2 fill-current",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512"},hi=s("path",{d:"M224 416c-8.188 0-16.38-3.125-22.62-9.375l-192-192c-12.5-12.5-12.5-32.75 0-45.25s32.75-12.5 45.25 0L224 338.8l169.4-169.4c12.5-12.5 32.75-12.5 45.25 0s12.5 32.75 0 45.25l-192 192C240.4 412.9 232.2 416 224 416z"},null,-1),mi=[hi],fi={key:1,class:"w-2 h-2 fill-current",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512"},vi=s("path",{d:"M416 352c-8.188 0-16.38-3.125-22.62-9.375L224 173.3l-169.4 169.4c-12.5 12.5-32.75 12.5-45.25 0s-12.5-32.75 0-45.25l192-192c12.5-12.5 32.75-12.5 45.25 0l192 192c12.5 12.5 12.5 32.75 0 45.25C432.4 348.9 424.2 352 416 352z"},null,-1),yi=[vi],ki=s("span",{class:"flex-shrink-0"},"Enemy Kills",-1),pi={key:0,class:"w-2 h-2 fill-current",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512"},bi=s("path",{d:"M224 416c-8.188 0-16.38-3.125-22.62-9.375l-192-192c-12.5-12.5-12.5-32.75 0-45.25s32.75-12.5 45.25 0L224 338.8l169.4-169.4c12.5-12.5 32.75-12.5 45.25 0s12.5 32.75 0 45.25l-192 192C240.4 412.9 232.2 416 224 416z"},null,-1),wi=[bi],xi={key:1,class:"w-2 h-2 fill-current",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512"},$i=s("path",{d:"M416 352c-8.188 0-16.38-3.125-22.62-9.375L224 173.3l-169.4 169.4c-12.5 12.5-32.75 12.5-45.25 0s-12.5-32.75 0-45.25l192-192c12.5-12.5 32.75-12.5 45.25 0l192 192c12.5 12.5 12.5 32.75 0 45.25C432.4 348.9 424.2 352 416 352z"},null,-1),Ci=[$i],Li=s("span",{class:"flex-shrink-0"},"Guild Kills",-1),Si={key:0,class:"w-2 h-2 fill-current",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512"},Bi=s("path",{d:"M224 416c-8.188 0-16.38-3.125-22.62-9.375l-192-192c-12.5-12.5-12.5-32.75 0-45.25s32.75-12.5 45.25 0L224 338.8l169.4-169.4c12.5-12.5 32.75-12.5 45.25 0s12.5 32.75 0 45.25l-192 192C240.4 412.9 232.2 416 224 416z"},null,-1),qi=[Bi],Mi={key:1,class:"w-2 h-2 fill-current",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512"},Ni=s("path",{d:"M416 352c-8.188 0-16.38-3.125-22.62-9.375L224 173.3l-169.4 169.4c-12.5 12.5-32.75 12.5-45.25 0s-12.5-32.75 0-45.25l192-192c12.5-12.5 32.75-12.5 45.25 0l192 192c12.5 12.5 12.5 32.75 0 45.25C432.4 348.9 424.2 352 416 352z"},null,-1),Ai=[Ni],Ii={class:"grid grid-cols-6 items-start content-start text-true-gray-500 col-span-6 gap-2 overflow-auto h-[calc(100vh-8.5rem)] mt-2"},Oi={class:"flex items-center"},Ki={class:""},Vi=["onClick"],zi=s("svg",{class:"w-4 h-4 fill-current",viewBox:"0 0 24 24"},[s("path",{fill:"currentColor",d:"M1,4.27L2.28,3L20.5,21.22L19.23,22.5L17,20.25C15.57,21.57 13.87,22.54 12,23C6.84,21.74 3,16.55 3,11V6.27L1,4.27M12,1L21,5V11C21,13.28 20.35,15.5 19.23,17.41L5.65,3.82L12,1Z"})],-1),Ti=[zi],Ui={class:"col-span-3"};function ji(e,t,i,u,n,r){return o(),d("div",Xs,[s("div",ei,[ti,s("div",si,[s("button",{onClick:t[0]||(t[0]=(...l)=>r.enter_combat&&r.enter_combat(...l)),class:"px-2 py-1 max-w-max self-start text-xs tracking-wide font-medium border rounded border-true-gray-800 hover:bg-true-gray-800 ml-2"},"Enter Combat"),s("button",{onClick:t[1]||(t[1]=(...l)=>r.fetch_guild_wars&&r.fetch_guild_wars(...l)),class:"px-2 py-1 text-xs max-w-max tracking-wide font-medium border rounded border-true-gray-800 hover:bg-true-gray-800 ml-2"},"Refresh")]),ii,s("button",{onClick:t[2]||(t[2]=l=>{e.$router.push("custom_list")}),class:"ml-auto px-2 py-1 text-xs tracking-wide font-medium border rounded border-true-gray-800 hover:bg-true-gray-800"},"Custom List")]),s("div",li,[s("button",{class:"hover:underline text-left flex items-center gap-1",onClick:t[3]||(t[3]=l=>r.sort_specific_list("id"))},[ri,i.guilds.sort_by.type=="id"&&!i.guilds.sort_by.reverse?(o(),d("svg",ni,di)):i.guilds.sort_by.type=="id"&&i.guilds.sort_by.reverse?(o(),d("svg",ui,_i)):v("",!0)]),s("button",{onClick:t[4]||(t[4]=l=>r.sort_specific_list("name")),class:"col-span-3 hover:underline text-left flex items-center gap-1"},[ci,i.guilds.sort_by.type=="name"&&!i.guilds.sort_by.reverse?(o(),d("svg",gi,mi)):i.guilds.sort_by.type=="name"&&i.guilds.sort_by.reverse?(o(),d("svg",fi,yi)):v("",!0)]),s("button",{class:"hover:underline text-left flex items-center gap-1 mr-1",onClick:t[5]||(t[5]=l=>r.sort_specific_list("enemy_kills"))},[ki,i.guilds.sort_by.type=="enemy_kills"&&!i.guilds.sort_by.reverse?(o(),d("svg",pi,wi)):i.guilds.sort_by.type=="enemy_kills"&&i.guilds.sort_by.reverse?(o(),d("svg",xi,Ci)):v("",!0)]),s("button",{class:"hover:underline text-left flex items-center gap-1",onClick:t[6]||(t[6]=l=>r.sort_specific_list("guild_kills"))},[Li,i.guilds.sort_by.type=="guild_kills"&&!i.guilds.sort_by.reverse?(o(),d("svg",Si,qi)):i.guilds.sort_by.type=="guild_kills"&&i.guilds.sort_by.reverse?(o(),d("svg",Mi,Ai)):v("",!0)]),s("div",Ii,[(o(!0),d(h,null,b(i.guilds.guild_wars,(l,_)=>(o(),d(h,{key:l.id},[(l==null?void 0:l.is_blocked)==null?(o(),d(h,{key:0},[s("div",Oi,[s("div",Ki,c(l.id),1),s("button",{onClick:w=>r.block_guild(_),class:"hover:text-red-400 ml-auto"},Ti,8,Vi)]),s("div",Ui,c(l.name),1),s("div",null,c(l.enemy_kills),1),s("div",null,c(l.guild_kills),1)],64)):v("",!0)],64))),128))])])])}var Gi=m(Qs,[["render",ji]]);const Ji={},Ei={class:"w-full h-full text-true-gray-300 font-medium text-lg flex items-center justify-center"},Wi=s("div",{class:"mb-16"},"Update of App Hub is required",-1),Di=[Wi];function Hi(e,t,i,u,n,r){return o(),d("div",Ei,Di)}var Fi=m(Ji,[["render",Hi]]),Pi=A({history:I(),routes:[{path:"/",name:"home",component:Ue,redirect:"guild_wars",children:[{path:"guild_wars",component:Gi},{path:"custom_list",component:Ys}]},{path:"/blocked",name:"blocked",component:st},{path:"/blocked_guilds",name:"blocked_guilds",component:kt},{path:"/banned",name:"banned",component:Vt},{path:"/settings",name:"settings",component:os},{path:"/combat",name:"combat",component:Ke},{path:"/update",name:"update",component:Fi}]});const Ri=O(fe);Ri.use(Pi).mount("#app");
